{"version":3,"file":"static/chunks/38-667aec8110a7311d.js","mappings":"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","sources":["webpack://_N_E/./tools/index.ts","webpack://_N_E/./features/map-page-layout/map-feed/feed-list/items/item-info-service.ts","webpack://_N_E/./features/search-bar/controls/multi-toggle/options.ts","webpack://_N_E/./features/search-bar/location-input/url/encode.ts","webpack://_N_E/./features/search-bar/price-range-input/price-range-input.utils.ts","webpack://_N_E/./features/search-bar/price-range-input/price-range-input.tsx","webpack://_N_E/./features/search-bar/property-types-input/get-property-type-groups.ts","webpack://_N_E/../../libs/feed-search/src/components/ui/checkbox/simple-check-button/simple-check-button.tsx","webpack://_N_E/./features/search-bar/controls/multi-toggle/multi-toggle.util.ts","webpack://_N_E/./features/search-bar/controls/multi-toggle/toggle-group.tsx","webpack://_N_E/./features/search-bar/controls/multi-toggle/multi-toggle.tsx","webpack://_N_E/./features/search-bar/property-types-input/property-types-input.tsx","webpack://_N_E/./services/feed/params/push-query-params.ts","webpack://_N_E/./services/query-params-utils/decode-client-query.ts","webpack://_N_E/./features/search-bar/ad-attributes-input/api/encode.ts","webpack://_N_E/./features/search-bar/advertiser-input/api/encode.ts","webpack://_N_E/./features/search-bar/property-characteristics-input/encode-property-characteristics.ts","webpack://_N_E/./services/feed/params/property-types/api/encode.ts","webpack://_N_E/./services/query-params-utils/encode-client-query.ts","webpack://_N_E/../../libs/analytics-common-events/src/feed-page-event/feed-page.event.ts","webpack://_N_E/../../libs/api-clients/src/clients/realestate-search-options.ts","webpack://_N_E/../../libs/feed-search/src/components/composed/inputs-slider-range/helpers.ts","webpack://_N_E/../../libs/feed-search/src/components/functional/number-input/helpers.ts","webpack://_N_E/../../libs/feed-search/src/components/ui/simple-input/simple-input.tsx","webpack://_N_E/../../libs/feed-search/src/components/functional/number-input/number-input.tsx","webpack://_N_E/../../libs/feed-search/src/components/composed/inputs-slider-range/inputs-slider-range.tsx","webpack://_N_E/../../libs/feed-search/src/components/ui/checkbox/check-button/check-button.tsx","webpack://_N_E/../../libs/feed-search/src/components/ui/ok-reset-buttons/ok-reset-buttons.tsx","webpack://_N_E/./features/search-bar/controls/multi-toggle/multi-toggle.module.scss","webpack://_N_E/./features/search-bar/controls/multi-toggle/toggle-group.module.scss","webpack://_N_E/./features/search-bar/price-range-input/price-range-input.module.scss","webpack://_N_E/./features/search-bar/property-types-input/property-types-input.module.scss","webpack://_N_E/../../libs/feed-search/src/components/composed/inputs-slider-range/inputs-slider-range.module.scss","webpack://_N_E/../../libs/feed-search/src/components/ui/checkbox/check-button/check-button.module.scss","webpack://_N_E/../../libs/feed-search/src/components/ui/checkbox/simple-check-button/simple-check-button.module.scss","webpack://_N_E/../../libs/feed-search/src/components/ui/ok-reset-buttons/ok-reset-buttons.module.scss","webpack://_N_E/../../libs/feed-search/src/components/ui/simple-input/simple-input.module.scss"],"sourcesContent":["export const isTruthy = (isTruthy: unknown) => isTruthy;\n","import isNumber from 'lodash/isNumber';\nimport { AgencyFeedAd } from '@y2/api-clients/realestate-agency';\nimport type { RealestateAd } from '@y2/api-clients/realestate-item';\n\nimport texts from './item.texts.json';\nimport { formatPrice } from '../../../../../components/price/price.utils';\nimport { isTruthy } from '../../../../../tools';\nimport { GROUND_VALUE } from '../../../../search-bar/floor-range-input/consts';\n\nexport const getItemInfo = (item: RealestateAd | AgencyFeedAd) => {\n  const { address, additionalDetails } = item;\n  const { street, house, neighborhood, city } = address;\n  const { property, roomsCount, squareMeter } = additionalDetails;\n\n  const itemTitle =\n    (street?.text\n      ? `${street.text} ${house?.number || ''}`\n      : neighborhood?.text) || property?.text;\n  const itemInfo1 = [property?.text, neighborhood?.text, city?.text]\n    .filter(isTruthy)\n    .join(', ');\n\n  const itemInfo2 = [\n    roomsCount && `${roomsCount} ${texts.rooms}`,\n    isNumber(house.floor) && `${texts.floor} ${formatFloor(house.floor)}`,\n    squareMeter && `${squareMeter} ${texts.squareMeter}`,\n  ]\n    .filter(isTruthy)\n    .join(' â€¢ ');\n\n  return {\n    itemTitle,\n    itemInfo1,\n    itemInfo2,\n  };\n};\n\nexport const getImageTag = (\n  priceBeforeTag: RealestateAd['priceBeforeTag'],\n  price: RealestateAd['price'],\n  isAssetExclusive: RealestateAd['inProperty']['isAssetExclusive'],\n  isNewFromContractor?: RealestateAd['packages']['isNewFromContractor'],\n) => {\n  if (isNewFromContractor) {\n    return texts.newFromContractor;\n  }\n\n  if (isAssetExclusive) {\n    return texts.exclusive;\n  }\n\n  const isPriceDrop = priceBeforeTag && price;\n\n  if (isPriceDrop) {\n    const priceDifference = priceBeforeTag - price;\n\n    return formatPriceBeforeTag(priceDifference);\n  }\n};\n\nexport const formatPriceBeforeTag = (diffPrice: number) =>\n  `${texts.priceDrop}-${formatPrice(diffPrice)}`;\n\n// The unicode '\\u200E' and '\\u200F' change direction of text from ltr to rtl (needed here in case of minus after number for example:  \"×§×•×ž×” -1\")\nconst formatFloor = (floor: number) =>\n  `\\u200E${floor === GROUND_VALUE ? texts.ground : floor}\\u200F`;\n","import React from 'react';\nimport find from 'lodash/find';\n\ntype ID = string;\n\nexport type Option = {\n  value: ID;\n  text?: string;\n  group: ID | null;\n  checked: boolean;\n};\n\nexport type Group = {\n  value: ID;\n  text?: string;\n  includeAll: boolean;\n};\n\nexport type IconMap = Record<ID, React.ReactNode>;\n\nexport function updateOptions(current: Option[], update: Option[]) {\n  return current.map((item) => {\n    const updatedItem = find(update, {\n      group: item.group,\n      value: item.value,\n    });\n\n    return updatedItem ?? item;\n  });\n}\n","/* eslint-disable max-lines-per-function */\nimport {\n  CLIENT_QUERY_KEYS_MAP,\n  type SearchClientQuery,\n} from '../../../../services/feed/params/consts';\nimport type { Location } from '../location-input';\n\ntype LocationSearchClientQuery =\n  | Pick<\n      SearchClientQuery,\n      | typeof CLIENT_QUERY_KEYS_MAP.AREA\n      | typeof CLIENT_QUERY_KEYS_MAP.TOP_AREA\n      | typeof CLIENT_QUERY_KEYS_MAP.CITY\n      | typeof CLIENT_QUERY_KEYS_MAP.NEIGHBORHOOD\n      | typeof CLIENT_QUERY_KEYS_MAP.STREET\n    >\n  | Pick<\n      SearchClientQuery,\n      | typeof CLIENT_QUERY_KEYS_MAP.MULTI_TOP_AREA\n      | typeof CLIENT_QUERY_KEYS_MAP.MULTI_AREA\n      | typeof CLIENT_QUERY_KEYS_MAP.MULTI_CITY\n      | typeof CLIENT_QUERY_KEYS_MAP.MULTI_NEIGHBORHOOD\n    >;\n\nexport const encodeSingleLocationUrl = (\n  location: Location,\n): LocationSearchClientQuery => {\n  const { topAreaId, areaId, cityId, hoodId, streetId } = location;\n\n  return {\n    ...(topAreaId && {\n      [CLIENT_QUERY_KEYS_MAP.TOP_AREA]: topAreaId,\n    }),\n    ...(areaId && {\n      [CLIENT_QUERY_KEYS_MAP.AREA]: areaId,\n    }),\n    ...(cityId && {\n      [CLIENT_QUERY_KEYS_MAP.CITY]: cityId,\n    }),\n    ...(hoodId && {\n      [CLIENT_QUERY_KEYS_MAP.NEIGHBORHOOD]: hoodId,\n    }),\n    ...(streetId && {\n      [CLIENT_QUERY_KEYS_MAP.STREET]: streetId,\n    }),\n  };\n};\n\nexport const encodeLocationsUrl = (\n  locations: Location[] = [],\n): LocationSearchClientQuery => {\n  if (locations.length === 0) {\n    return {} as LocationSearchClientQuery;\n  } else if (locations.length === 1) {\n    return encodeSingleLocationUrl(locations[0]);\n  } else {\n    const multiTopArea = [];\n    const multiArea = [];\n    const multiCity = [];\n    const multiNeighborhood = [];\n\n    locations.forEach((location) => {\n      const { topAreaId, areaId, cityId, hoodId, type } = location;\n\n      if (type === 'topArea') {\n        multiTopArea.push(topAreaId);\n      } else if (type === 'area') {\n        multiArea.push(areaId);\n      } else if (type === 'city') {\n        multiCity.push(cityId);\n      } else if (type === 'neighborhood') {\n        multiNeighborhood.push(hoodId);\n      }\n    });\n\n    return {\n      ...(multiTopArea.length > 0 && {\n        [CLIENT_QUERY_KEYS_MAP.MULTI_TOP_AREA]: multiTopArea.join(','),\n      }),\n      ...(multiArea.length > 0 && {\n        [CLIENT_QUERY_KEYS_MAP.MULTI_AREA]: multiArea.join(','),\n      }),\n      ...(multiCity.length > 0 && {\n        [CLIENT_QUERY_KEYS_MAP.MULTI_CITY]: multiCity.join(','),\n      }),\n      ...(multiNeighborhood.length > 0 && {\n        [CLIENT_QUERY_KEYS_MAP.MULTI_NEIGHBORHOOD]: multiNeighborhood.join(','),\n      }),\n    };\n  }\n};\n","import type {\n  Range,\n  RangeOptions,\n} from '@y2/api-clients/realestate-search-options';\n\nimport texts from './texts.json';\nimport { formatPrice } from '../../../components/price/price.utils';\n\nexport const getDisplayPrice = (\n  selectedRange: Range,\n  rangeOptions: RangeOptions,\n  isShort: boolean,\n) => {\n  const [minSelectedPrice, maxSelectedPrice] = selectedRange;\n  const { from: minPriceLimit, to: maxPriceLimit } = rangeOptions;\n\n  const minPrice = minSelectedPrice === minPriceLimit ? null : minSelectedPrice;\n  const maxPrice = maxSelectedPrice === maxPriceLimit ? null : maxSelectedPrice;\n\n  const minPriceText = minPrice && formatPrice(minPrice);\n  const maxPriceText = maxPrice && formatPrice(maxPrice);\n\n  if (isShort && minPriceText) {\n    return `${texts.startingFrom} ${minPriceText}`;\n  }\n\n  if (minPriceText && !maxPriceText) {\n    return `${texts.startingFrom} ${minPriceText}`;\n  }\n\n  if (maxPriceText && !minPriceText) {\n    return `${texts.upTo} ${maxPriceText}`;\n  }\n\n  if (minPriceText && maxPriceText) {\n    return `${minPriceText} - ${maxPriceText}`;\n  }\n\n  return texts.price;\n};\n","import { type Dispatch, type SetStateAction, useState } from 'react';\nimport { useDebounceEffect } from 'ahooks';\nimport isNumber from 'lodash/isNumber';\nimport type {\n  Range,\n  RangeOptions,\n} from '@y2/api-clients/realestate-search-options';\nimport { RoundedPseudoDropButton } from '@y2/feed-search/components//ui/pseudo-drop-button';\nimport { InputsSliderRange } from '@y2/feed-search/components/composed/inputs-slider-range';\nimport { ResponsiveDropdown } from '@y2/feed-search/components/composed/responsive-dropdown';\nimport { InputTitle } from '@y2/feed-search/components/ui/input-title';\nimport { useCollapse } from '@y2/hooks/use-collapse';\n\nimport styles from './price-range-input.module.scss';\nimport { getDisplayPrice } from './price-range-input.utils';\nimport texts from './texts.json';\n\nconst UPDATE_DELAY = 150;\n\ntype Props = {\n  value: Range;\n  sliderOptions: RangeOptions;\n  onSelectedClassName?: string;\n  displayShortenedButtonText?: boolean;\n  onChange: Dispatch<SetStateAction<Range>>;\n  onMaxPriceInputBlur?: (newMaxPrice: number) => void;\n};\n\nexport const PriceRangeInput = ({\n  value,\n  onChange,\n  onMaxPriceInputBlur,\n  displayShortenedButtonText,\n  onSelectedClassName,\n  sliderOptions,\n}: Props) => {\n  const { isCollapsed, toggleCollapse, collapseRef } = useCollapse();\n\n  const [minValue, maxValue] = value;\n  const { from: minPriceLimit, to: maxPriceLimit, step } = sliderOptions;\n\n  const areBothLimitsSelected =\n    minValue === minPriceLimit && maxValue === maxPriceLimit;\n\n  const [selectedRange, setSelectedRange] = useState<Range>(\n    areBothLimitsSelected ? [null, null] : value,\n  );\n  const [minSelectedPrice, maxSelectedPrice] = selectedRange;\n\n  const minPrice = areBothLimitsSelected ? null : minValue;\n  const maxPrice = areBothLimitsSelected ? null : maxValue;\n\n  const handleSelection = (range: Range) => {\n    setSelectedRange(range);\n    onChange(range);\n  };\n\n  const [priceDisplayText, setPriceDisplayText] = useState(\n    getDisplayPrice(selectedRange, sliderOptions, displayShortenedButtonText),\n  );\n\n  useDebounceEffect(\n    () => {\n      setPriceDisplayText(\n        getDisplayPrice(\n          selectedRange,\n          sliderOptions,\n          displayShortenedButtonText,\n        ),\n      );\n    },\n    [selectedRange],\n    { wait: UPDATE_DELAY },\n  );\n\n  const isPriceRangeSelected = isNumber(minPrice) || isNumber(maxPrice);\n\n  return (\n    <div ref={collapseRef} data-testid=\"price-range-input\">\n      <ResponsiveDropdown\n        actionButton={\n          <RoundedPseudoDropButton\n            isOpen={!isCollapsed}\n            isActive={isPriceRangeSelected}\n            activeClassName={onSelectedClassName}\n            data-testid=\"realestate-filter-price-button\"\n          >\n            {priceDisplayText}\n          </RoundedPseudoDropButton>\n        }\n        isCollapsed={isCollapsed}\n        toggleCollapse={toggleCollapse}\n        className={styles.priceDropdownBox}\n      >\n        <InputTitle title={texts.price} className={styles.label} onlyOnMobile />\n        <InputsSliderRange\n          symbol=\"â‚ª\"\n          value={[\n            minSelectedPrice || minPriceLimit,\n            maxSelectedPrice || maxPriceLimit,\n          ]}\n          setRangeValue={handleSelection}\n          onMaxInputBlur={onMaxPriceInputBlur}\n          steps={step}\n          limits={[minPriceLimit, maxPriceLimit]}\n          data-testid=\"realestate-price-range\"\n        />\n      </ResponsiveDropdown>\n    </div>\n  );\n};\n","import type { PropertyGroup } from '@y2/api-clients/realestate-search-options';\n\nimport type { Group } from '../controls/multi-toggle';\n\nexport function getPropertyTypeGroups(\n  propertyGroupsOptions: PropertyGroup[],\n): Group[] {\n  return propertyGroupsOptions.map(({ id, title, engTitle, isSearchable }) => ({\n    value: id,\n    text: title,\n    includeAll: isSearchable,\n  }));\n}\n","import React, { ComponentProps } from 'react';\nimport cn from 'classnames';\n\nimport styles from './simple-check-button.module.scss';\nimport { CheckButton } from '../check-button/check-button';\n\ntype CheckButtonProps = ComponentProps<typeof CheckButton>;\n\ntype Props = CheckButtonProps & {\n  children?: React.ReactNode;\n  rounded?: boolean;\n};\n\nexport const SimpleCheckButton = ({\n  children,\n  rounded,\n  ...checkButtonProps\n}: Props) => {\n  return (\n    <CheckButton {...checkButtonProps} data-testid=\"simple-check-button\">\n      <span className={cn(styles.simpleButton, rounded && styles.rounded)}>\n        {children}\n      </span>\n    </CheckButton>\n  );\n};\n","import groupBy from 'lodash/groupBy';\n\nimport type { Group, Option } from './options';\nimport texts from './texts.json';\n\nexport function calcGroupWithOptions(groups: Group[], options: Option[]) {\n  const byGroup = groupBy(options, 'group');\n\n  return groups.map((gr) => {\n    const id = gr.value;\n    const options = byGroup[id] ?? [];\n\n    return {\n      id,\n      text: gr.text,\n      allOption: gr.includeAll ? { text: texts.checkboxAll } : undefined,\n      options,\n      nSelected: options.filter((op) => op.checked).length,\n    };\n  });\n}\n\nexport function calcSelectedTexts(\n  groups: Group[],\n  options: Option[],\n): string[] {\n  return groups.length > 0\n    ? calcGroupWithOptions(groups, options).flatMap((group) =>\n        group.allOption && group.nSelected === group.options.length\n          ? group.text\n          : group.options\n              .filter((op) => op.checked)\n              .map((op) => op.text ?? op.value),\n      )\n    : options\n        .filter((item) => item.checked)\n        .map((item) => item.text ?? item.value);\n}\n","import React, { useId } from 'react';\nimport noop from 'lodash/noop';\nimport { SimpleCheckButton } from '@y2/feed-search/components/ui/checkbox';\n\nimport type { Option } from './options';\nimport styles from './toggle-group.module.scss';\n\ntype ChangeEvent = {\n  update: Option[];\n};\n\ntype Props = {\n  text: string;\n  groupIcon?: React.ReactNode;\n  allOption?: {\n    text: string;\n  };\n  options: Option[];\n  onChange?: (event: ChangeEvent) => void;\n};\n\nexport function ToggleGroup({\n  text,\n  groupIcon,\n  allOption,\n  options,\n  onChange = noop,\n}: Props) {\n  const labelId = useId();\n  const countCheckedOptions = options.filter(isChecked).length;\n  const isAllChecked = countCheckedOptions === options.length;\n\n  const isAllCleared = countCheckedOptions === 0;\n\n  const handleSelectAll = () => {\n    if (isAllChecked || isAllCleared) {\n      onChange({\n        update: options.map(flipOption),\n      });\n    } else {\n      onChange({\n        update: options.filter(isUnchecked).map(checkOption),\n      });\n    }\n  };\n\n  return (\n    <div role=\"group\" aria-labelledby={labelId}>\n      <label\n        id={labelId}\n        className={styles.groupLabel}\n        data-nagish=\"toggle-group-label\"\n      >\n        {groupIcon}\n        {text}\n      </label>\n      <div className={styles.groupList}>\n        {allOption && (\n          <SimpleCheckButton\n            value=\"\"\n            checked={isAllChecked}\n            onChange={handleSelectAll}\n          >\n            {allOption.text}\n          </SimpleCheckButton>\n        )}\n\n        {options.map((op) => (\n          <SimpleCheckButton\n            value={op.value}\n            checked={op.checked}\n            key={op.value}\n            onChange={() =>\n              onChange({ update: [{ ...op, checked: !op.checked }] })\n            }\n          >\n            {op.text ?? op.value}\n          </SimpleCheckButton>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const isChecked = (op: Option): boolean => op.checked;\nconst isUnchecked = (op: Option): boolean => !op.checked;\nconst flipOption = (op: Option): Option => ({ ...op, checked: !op.checked });\nconst checkOption = (op: Option): Option => ({ ...op, checked: true });\n\nexport const toggleListStyle = styles.groupList;\n","import { ComponentProps } from 'react';\nimport noop from 'lodash/noop';\nimport { SimpleCheckButton } from '@y2/feed-search/components/ui/checkbox';\n\nimport styles from './multi-toggle.module.scss';\nimport { calcGroupWithOptions } from './multi-toggle.util';\nimport { Group, IconMap, Option } from './options';\nimport texts from './texts.json';\nimport { ToggleGroup, toggleListStyle } from './toggle-group';\n\ntype Props = {\n  groups: Group[];\n  options: Option[];\n  onChange?: ComponentProps<typeof ToggleGroup>['onChange'];\n  iconMap?: IconMap;\n};\n\nexport function MultiToggle({\n  groups,\n  options,\n  onChange = noop,\n  iconMap = {},\n}: Props) {\n  const groupsWithOptions = calcGroupWithOptions(groups, options);\n  const optionsWithoutGroup = options.filter((item) => item.group === null);\n\n  return (\n    <>\n      <span className={styles.propertyNote}>{texts.help}</span>\n      {groupsWithOptions.map((group) => (\n        <ToggleGroup\n          groupIcon={iconMap[group.id]}\n          key={group.id}\n          text={group.text}\n          allOption={group.allOption}\n          options={group.options}\n          onChange={onChange}\n        />\n      ))}\n      <div className={toggleListStyle}>\n        {optionsWithoutGroup.map((item) => (\n          <SimpleCheckButton\n            key={item.value}\n            value={item.value}\n            checked={item.checked}\n            onChange={() =>\n              onChange({\n                update: [{ ...item, checked: !item.checked }],\n              })\n            }\n          >\n            {item.text ?? item.value}\n          </SimpleCheckButton>\n        ))}\n      </div>\n    </>\n  );\n}\n","import React, { ComponentProps } from 'react';\nimport { Dropdown } from '@y2/feed-search/components/composed/dropdown';\nimport { InputTitle } from '@y2/feed-search/components/ui/input-title';\nimport { MobileDrawerHeader } from '@y2/feed-search/components/ui/mobile-drawer-header';\nimport { OkResetButtons } from '@y2/feed-search/components/ui/ok-reset-buttons';\nimport { RoundedPseudoDropButton } from '@y2/feed-search/components/ui/pseudo-drop-button';\nimport { useCollapse } from '@y2/hooks/use-collapse';\nimport {\n  BusinessReIcon,\n  FenceIcon,\n  HomeIcon,\n} from '@y2/mango/components/icons';\n\nimport styles from './property-types-input.module.scss';\nimport texts from './texts.json';\nimport type { PropertyTypes } from '../../../services/feed/params/property-types/consts';\nimport { IconMap, MultiToggle } from '../controls/multi-toggle';\nimport { calcSelectedTexts } from '../controls/multi-toggle/multi-toggle.util';\n\ntype MultiToggleProps = ComponentProps<typeof MultiToggle>;\n\ntype Props = {\n  className?: string;\n  groups: MultiToggleProps['groups'];\n  options: PropertyTypes;\n  onChange: MultiToggleProps['onChange'];\n  onSelectedClassName?: string;\n};\n\n// :TODO: ðŸ«£\nconst iconMap: IconMap = {\n  '1': <BusinessReIcon />,\n  '2': <HomeIcon />,\n  '5': <FenceIcon />,\n};\n\nexport const PropertyTypesInput = ({\n  className,\n  groups,\n  options,\n  onSelectedClassName,\n  onChange,\n}: Props) => {\n  const { isCollapsed, toggleCollapse, collapse, collapseRef } = useCollapse();\n\n  const handleClear = () =>\n    onChange({\n      update: options\n        .filter((op) => op.checked)\n        .map((op) => ({ ...op, checked: false })),\n    });\n\n  const selectedOptions = options.filter((item) => item.checked);\n  const selectedGroupsText = calcSelectedTexts(groups, options);\n  const propertyTypeText =\n    selectedGroupsText.length > 1\n      ? `${texts.label} (${selectedOptions.length})`\n      : selectedGroupsText[0];\n\n  const groupsWithAltName = groups.map((item) => {\n    const match = (texts?.nameMapping?.groups || {})[item.text];\n\n    return match ? { ...item, text: match } : item;\n  });\n\n  return (\n    <div\n      className={className}\n      ref={collapseRef}\n      data-testid=\"property-types-input\"\n    >\n      <InputTitle title={texts.label} className={styles.label} onlyOnMobile />\n      <Dropdown\n        className={styles.propertyDropdown}\n        isCollapsed={isCollapsed}\n        toggleCollapse={toggleCollapse}\n        actionButton={\n          <RoundedPseudoDropButton\n            isOpen={!isCollapsed}\n            isActive={selectedOptions.length > 0}\n            activeClassName={onSelectedClassName}\n            data-testid=\"realestate-filter-asset-type-button\"\n          >\n            <span aria-label={texts.label}>\n              {propertyTypeText || texts.label}\n            </span>\n          </RoundedPseudoDropButton>\n        }\n      >\n        <div\n          className={styles.dropdownBox}\n          data-testid=\"property-types-input-dropdown\"\n        >\n          <MobileDrawerHeader onCloseClick={collapse}>\n            {texts.label}\n          </MobileDrawerHeader>\n          <div className={styles.dropdownContent}>\n            <MultiToggle\n              groups={groupsWithAltName}\n              options={options}\n              onChange={onChange}\n              iconMap={iconMap}\n            />\n          </div>\n          <OkResetButtons onAgree={collapse} onReset={handleClear} />\n        </div>\n      </Dropdown>\n    </div>\n  );\n};\n\nexport { updateOptions } from '../controls/multi-toggle';\n","import type { NextRouter } from 'next/router';\nimport omit from 'lodash/omit';\n\ntype Options = Partial<{\n  // Query keys to omit from the current query\n  omit: string[];\n  // Keep the hash from the current URL\n  keepHash: boolean;\n  shallow: boolean;\n}>;\n\nconst getNewQuery = (\n  newParams: Partial<Record<string, string | number>>,\n  router: NextRouter,\n  options: Options = {},\n) => ({\n  query: {\n    ...omit(router.query, options.omit || []),\n    ...newParams,\n  },\n  ...(options.keepHash && { hash: router.asPath.split('#')[1] }),\n});\n\ntype UpdateQueryParams = (\n  paramsToAdd: Partial<Record<string, string | number>>,\n  router: NextRouter,\n  options?: Options,\n) => Promise<boolean>;\n\nexport const pushQueryParams: UpdateQueryParams = (\n  paramsToAdd,\n  router,\n  options = {},\n) =>\n  router.push(getNewQuery(paramsToAdd, router, options), undefined, {\n    ...('shallow' in options && { shallow: options.shallow }),\n  });\n\nexport const replaceQueryParams: UpdateQueryParams = (\n  paramsToAdd,\n  router,\n  options = {},\n) =>\n  router.replace(getNewQuery(paramsToAdd, router, options), undefined, {\n    ...('shallow' in options && { shallow: options.shallow }),\n  });\n","/* eslint-disable max-lines-per-function */\nimport isNil from 'lodash/isNil';\nimport pick from 'lodash/pick';\nimport pickBy from 'lodash/pickBy';\nimport {\n  API_QUERY_KEYS,\n  RANGE_QUERY_KEYS,\n} from '@y2/api-clients/realestate-feed';\nimport { Range, RangeOptions } from '@y2/api-clients/realestate-search-options';\nimport { autoCorrectRange } from '@y2/feed-search/components/composed/inputs-slider-range/helpers';\n\nimport {\n  ENTRANCE_DATE_RANGE_REGEX,\n  FLOOR_RANGE_REGEX,\n  LEGACY_ORDER_API_MAPPING,\n  PRICE_RANGE_REGEX,\n  ROOMS_RANGE_REGEX,\n  SQUARE_METER_REGEX,\n} from './const';\nimport { isInRange } from '../common';\nimport {\n  CLIENT_QUERY_KEYS_MAP,\n  LEGACY_QUERY_KEYS,\n} from '../feed/params/consts';\nimport { SimpleQuery } from '../feed/params/enforce-simple-query';\n\nexport const decodeRangeParameter = (\n  parameter: string | null,\n  regex: RegExp,\n) => {\n  if (!parameter) {\n    return [null, null];\n  }\n  const match = parameter.match(regex);\n  const [, minValue, maxValue] = match ?? [];\n\n  return [minValue, maxValue];\n};\n\nexport const encodeRangeParameter = (minValue, maxValue) => {\n  if (!minValue && !maxValue) return undefined;\n\n  return `${minValue ?? -1}-${maxValue ?? -1}`;\n};\n\nexport const decodeClientRangeParameter = (\n  minQueryValue: string | null,\n  maxQueryValue: string | null,\n  rangeOptions?: RangeOptions,\n): Range => {\n  const { from: minRangeLimit, to: maxRangeLimit } = rangeOptions || {};\n  const minValue = !isNil(minQueryValue) ? Number(minQueryValue) : null;\n  const maxValue = !isNil(maxQueryValue) ? Number(maxQueryValue) : null;\n\n  const rangeLimit: Range = [minRangeLimit, maxRangeLimit];\n\n  if (isNil(minRangeLimit) && isNil(maxRangeLimit)) return [minValue, maxValue];\n\n  return autoCorrectRange([\n    !isNil(minValue) && isInRange(minValue, rangeLimit)\n      ? minValue\n      : minRangeLimit,\n    !isNil(maxValue) && isInRange(maxValue, rangeLimit)\n      ? maxValue\n      : maxRangeLimit,\n  ]);\n};\n\nexport const encodeClientRangeParameter = (\n  value: Range,\n  rangeOptions?: RangeOptions,\n): [string | null, string | null] => {\n  if (!value) return [null, null];\n  const [minValue, maxValue] = value;\n  const { from: minRangeLimit, to: maxRangeLimit } = rangeOptions || {};\n\n  return [\n    !isNil(minValue) && minValue !== minRangeLimit ? minValue.toString() : null,\n    !isNil(maxValue) && maxValue !== maxRangeLimit ? maxValue.toString() : null,\n  ];\n};\n\nexport const encodeRangeParameters = (query: SimpleQuery) => {\n  const price = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_PRICE],\n    query[API_QUERY_KEYS.MAX_PRICE],\n  );\n  const rooms = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_ROOMS],\n    query[API_QUERY_KEYS.MAX_ROOMS],\n  );\n  const squareMeter = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_SQUARE_METER],\n    query[API_QUERY_KEYS.MAX_SQUARE_METER],\n  );\n  const squareMeterBuild = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_BUILT_SQUARE_METER],\n    query[API_QUERY_KEYS.MAX_BUILT_SQUARE_METER],\n  );\n  const entranceDate = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_ENTRANCE_DATE],\n    query[API_QUERY_KEYS.MAX_ENTRANCE_DATE],\n  );\n  const floor = encodeRangeParameter(\n    query[API_QUERY_KEYS.MIN_FLOOR],\n    query[API_QUERY_KEYS.MAX_FLOOR],\n  );\n\n  return pickBy({\n    [RANGE_QUERY_KEYS.PRICE]: price,\n    [RANGE_QUERY_KEYS.ROOMS]: rooms,\n    [RANGE_QUERY_KEYS.SQUARE_METER]: squareMeter,\n    [RANGE_QUERY_KEYS.BUILT_SQUARE_METER]: squareMeterBuild,\n    [RANGE_QUERY_KEYS.ENTRANCE_DATE]: entranceDate,\n    [RANGE_QUERY_KEYS.FLOOR]: floor,\n  });\n};\n\nexport const replaceEdgeWithNull = (value: string) =>\n  value === '-1' ? null : value;\n\nexport const decodeRangeParameters = (query: SimpleQuery) => {\n  const [minPrice, maxPrice] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.PRICE],\n    PRICE_RANGE_REGEX,\n  );\n  const [minRooms, maxRooms] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.ROOMS],\n    ROOMS_RANGE_REGEX,\n  );\n  const [minSquaremeter, maxSquaremeter] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.SQUARE_METER],\n    SQUARE_METER_REGEX,\n  );\n  const [minSquareMeterBuild, maxSquareMeterBuild] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.BUILT_SQUARE_METER],\n    SQUARE_METER_REGEX,\n  );\n  const [minEntranceDate, maxEntranceDate] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.ENTRANCE_DATE],\n    ENTRANCE_DATE_RANGE_REGEX,\n  );\n  const [minFloor, maxFloor] = decodeRangeParameter(\n    query[RANGE_QUERY_KEYS.FLOOR],\n    FLOOR_RANGE_REGEX,\n  );\n\n  return pickBy({\n    [CLIENT_QUERY_KEYS_MAP.MIN_PRICE]: replaceEdgeWithNull(minPrice),\n    [CLIENT_QUERY_KEYS_MAP.MAX_PRICE]: replaceEdgeWithNull(maxPrice),\n    [CLIENT_QUERY_KEYS_MAP.MIN_ROOMS]: replaceEdgeWithNull(minRooms),\n    [CLIENT_QUERY_KEYS_MAP.MAX_ROOMS]: replaceEdgeWithNull(maxRooms),\n    [CLIENT_QUERY_KEYS_MAP.MIN_SQUARE_METER]:\n      replaceEdgeWithNull(minSquaremeter),\n    [CLIENT_QUERY_KEYS_MAP.MAX_SQUARE_METER]:\n      replaceEdgeWithNull(maxSquaremeter),\n    [CLIENT_QUERY_KEYS_MAP.MIN_BUILT_SQUARE_METER]:\n      replaceEdgeWithNull(minSquareMeterBuild),\n    [CLIENT_QUERY_KEYS_MAP.MAX_BUILT_SQUARE_METER]:\n      replaceEdgeWithNull(maxSquareMeterBuild),\n    [CLIENT_QUERY_KEYS_MAP.MIN_ENTRANCE_DATE]:\n      replaceEdgeWithNull(minEntranceDate),\n    [CLIENT_QUERY_KEYS_MAP.MAX_ENTRANCE_DATE]:\n      replaceEdgeWithNull(maxEntranceDate),\n    [CLIENT_QUERY_KEYS_MAP.MIN_FLOOR]: minFloor,\n    [CLIENT_QUERY_KEYS_MAP.MAX_FLOOR]: maxFloor,\n  });\n};\n\nexport const decodeClientQuery = (query: SimpleQuery): SimpleQuery => {\n  return pickBy({\n    ...query,\n    ...decodeRangeParameters(query),\n    [RANGE_QUERY_KEYS.PRICE]: undefined,\n    [RANGE_QUERY_KEYS.ROOMS]: undefined,\n    [RANGE_QUERY_KEYS.SQUARE_METER]: undefined,\n    [RANGE_QUERY_KEYS.BUILT_SQUARE_METER]: undefined,\n    [RANGE_QUERY_KEYS.ENTRANCE_DATE]: undefined,\n    [RANGE_QUERY_KEYS.FLOOR]: undefined,\n    [LEGACY_QUERY_KEYS.WAREHOUSE]: undefined,\n    [LEGACY_QUERY_KEYS.ASSET_EXCLUSIVE]: undefined,\n    [LEGACY_QUERY_KEYS.COOLING_ROOM]: undefined,\n    [LEGACY_QUERY_KEYS.LOADING_RAMP]: undefined,\n    [LEGACY_QUERY_KEYS.MEETING_ROOM]: undefined,\n    [LEGACY_QUERY_KEYS.COMMUNICATION_ROOM]: undefined,\n    [LEGACY_QUERY_KEYS.HIGH_CEILING]: undefined,\n    [LEGACY_QUERY_KEYS.SETTLEMENTS]: undefined,\n    [LEGACY_QUERY_KEYS.TOILET]: undefined,\n    [LEGACY_QUERY_KEYS.ORDER]: undefined,\n    [CLIENT_QUERY_KEYS_MAP.WAREHOUSE]:\n      query[LEGACY_QUERY_KEYS.WAREHOUSE] ||\n      query[CLIENT_QUERY_KEYS_MAP.WAREHOUSE],\n    [CLIENT_QUERY_KEYS_MAP.ASSET_EXCLUSIVE]:\n      query[LEGACY_QUERY_KEYS.ASSET_EXCLUSIVE] ||\n      query[CLIENT_QUERY_KEYS_MAP.ASSET_EXCLUSIVE],\n    [CLIENT_QUERY_KEYS_MAP.COOLING_ROOM]:\n      query[LEGACY_QUERY_KEYS.COOLING_ROOM] ||\n      query[CLIENT_QUERY_KEYS_MAP.COOLING_ROOM],\n    [CLIENT_QUERY_KEYS_MAP.LOADING_RAMP]:\n      query[LEGACY_QUERY_KEYS.LOADING_RAMP] ||\n      query[CLIENT_QUERY_KEYS_MAP.LOADING_RAMP],\n    [CLIENT_QUERY_KEYS_MAP.MEETING_ROOM]:\n      query[LEGACY_QUERY_KEYS.MEETING_ROOM] ||\n      query[CLIENT_QUERY_KEYS_MAP.MEETING_ROOM],\n    [CLIENT_QUERY_KEYS_MAP.COMMUNICATION_ROOM]:\n      query[LEGACY_QUERY_KEYS.COMMUNICATION_ROOM] ||\n      query[CLIENT_QUERY_KEYS_MAP.COMMUNICATION_ROOM],\n    [CLIENT_QUERY_KEYS_MAP.HIGH_CEILING]:\n      query[LEGACY_QUERY_KEYS.HIGH_CEILING] ||\n      query[CLIENT_QUERY_KEYS_MAP.HIGH_CEILING],\n    [CLIENT_QUERY_KEYS_MAP.SETTLEMENTS]:\n      query[LEGACY_QUERY_KEYS.SETTLEMENTS] ||\n      query[CLIENT_QUERY_KEYS_MAP.SETTLEMENTS],\n    [CLIENT_QUERY_KEYS_MAP.TOILET_LOCATION]:\n      query[LEGACY_QUERY_KEYS.TOILET] ||\n      query[CLIENT_QUERY_KEYS_MAP.TOILET_LOCATION],\n    [CLIENT_QUERY_KEYS_MAP.SORT]:\n      query[CLIENT_QUERY_KEYS_MAP.SORT] ||\n      LEGACY_ORDER_API_MAPPING[query[LEGACY_QUERY_KEYS.ORDER]],\n  });\n};\n\nexport const encodeLegacyQuery = (query: SimpleQuery) => {\n  return pick(\n    {\n      [LEGACY_QUERY_KEYS.WAREHOUSE]: query[CLIENT_QUERY_KEYS_MAP.WAREHOUSE],\n      [LEGACY_QUERY_KEYS.ASSET_EXCLUSIVE]:\n        query[CLIENT_QUERY_KEYS_MAP.ASSET_EXCLUSIVE],\n      [LEGACY_QUERY_KEYS.COOLING_ROOM]:\n        query[CLIENT_QUERY_KEYS_MAP.COOLING_ROOM],\n      [LEGACY_QUERY_KEYS.LOADING_RAMP]:\n        query[CLIENT_QUERY_KEYS_MAP.LOADING_RAMP],\n      [LEGACY_QUERY_KEYS.MEETING_ROOM]:\n        query[CLIENT_QUERY_KEYS_MAP.MEETING_ROOM],\n      [LEGACY_QUERY_KEYS.COMMUNICATION_ROOM]:\n        query[CLIENT_QUERY_KEYS_MAP.COMMUNICATION_ROOM],\n      [LEGACY_QUERY_KEYS.HIGH_CEILING]:\n        query[CLIENT_QUERY_KEYS_MAP.HIGH_CEILING],\n      [LEGACY_QUERY_KEYS.SETTLEMENTS]: query[CLIENT_QUERY_KEYS_MAP.SETTLEMENTS],\n      [LEGACY_QUERY_KEYS.TOILET]: query[CLIENT_QUERY_KEYS_MAP.TOILET_LOCATION],\n      [LEGACY_QUERY_KEYS.ORDER]:\n        LEGACY_ORDER_API_MAPPING[query[CLIENT_QUERY_KEYS_MAP.SORT]],\n    },\n    Object.values(CLIENT_QUERY_KEYS_MAP),\n  );\n};\n","import {\n  API_QUERY_KEYS,\n  type SearchApiQuery,\n} from '@y2/api-clients/realestate-feed';\n\nimport type { AdAttributes } from '../ad-attributes-input';\n\ntype AdAttributesSearchApiQuery = Pick<\n  SearchApiQuery,\n  | typeof API_QUERY_KEYS.IMAGE_ONLY\n  | typeof API_QUERY_KEYS.PRICE_ONLY\n  | typeof API_QUERY_KEYS.SETTLEMENTS\n  | typeof API_QUERY_KEYS.PRICE_DROPPED\n>;\n\nexport const encodeAdAttributesApi = (\n  adAttributes: AdAttributes,\n): AdAttributesSearchApiQuery => {\n  const { isImageOnly, isPriceOnly, isSettlementsOnly, isPriceDropped } =\n    adAttributes || {};\n\n  return {\n    ...(isImageOnly && {\n      [API_QUERY_KEYS.IMAGE_ONLY]: '1',\n    }),\n    ...(isPriceOnly && {\n      [API_QUERY_KEYS.PRICE_ONLY]: '1',\n    }),\n\n    ...(isSettlementsOnly && {\n      [API_QUERY_KEYS.SETTLEMENTS]: '1',\n    }),\n\n    ...(isPriceDropped && {\n      [API_QUERY_KEYS.PRICE_DROPPED]: '1',\n    }),\n  };\n};\n","import { API_QUERY_KEYS } from '@y2/api-clients/realestate-feed';\n\nimport type { AdvertiserInput } from '../advertiser-input';\n\ntype AdvertiserInputSearchApiQuery = {\n  brokerage: string;\n  newFromContractor: string;\n};\n\nexport const encodeAdvertiserApi = (\n  advertiserInput: AdvertiserInput,\n): AdvertiserInputSearchApiQuery => {\n  const { isFromBrokerage, isNewFromContractor } = advertiserInput || {};\n\n  return {\n    ...(isFromBrokerage && {\n      [API_QUERY_KEYS.BROKERAGE]: '1',\n    }),\n    ...(isNewFromContractor && {\n      [API_QUERY_KEYS.NEW_FROM_CONTRACTOR]: '1',\n    }),\n  };\n};\n","import pick from 'lodash/pick';\nimport {\n  COMMERCIAL_CHARACTERISTICS_QUERY_KEYS,\n  FORSALE_CHARACTERISTICS_QUERY_KEYS,\n  RENT_CHARACTERISTICS_QUERY_KEYS,\n} from '@y2/api-clients/realestate-feed';\nimport {\n  type CommercialPropertyCharacteristicsSearchApiQuery,\n  type ForsalePropertyCharacteristicsSearchApiQuery,\n  type PropertyCharacteristic,\n  type PropertyCharacteristicsSearchApiQuery,\n  type RentPropertyCharacteristicsSearchApiQuery,\n} from '@y2/api-clients/realestate-search-options';\n\nconst encodePropertyCharacteristics = (\n  propertyCharacteristics: PropertyCharacteristic[] = [],\n  keys: PropertyCharacteristic[] = [],\n): PropertyCharacteristicsSearchApiQuery => {\n  return pick(\n    Object.fromEntries(propertyCharacteristics.map((key) => [key, '1'])),\n    keys,\n  );\n};\n\nexport const encodeCommercialPropertyCharacteristicsApi = (\n  propertyCharacteristics: PropertyCharacteristic[],\n): CommercialPropertyCharacteristicsSearchApiQuery =>\n  encodePropertyCharacteristics(\n    propertyCharacteristics,\n    COMMERCIAL_CHARACTERISTICS_QUERY_KEYS,\n  );\n\nexport const encodeForsalePropertyCharacteristicsApi = (\n  propertyCharacteristics: PropertyCharacteristic[],\n): ForsalePropertyCharacteristicsSearchApiQuery =>\n  encodePropertyCharacteristics(\n    propertyCharacteristics,\n    FORSALE_CHARACTERISTICS_QUERY_KEYS,\n  );\n\nexport const encodeRentPropertyCharacteristicsApi = (\n  propertyCharacteristics: PropertyCharacteristic[],\n): RentPropertyCharacteristicsSearchApiQuery =>\n  encodePropertyCharacteristics(\n    propertyCharacteristics,\n    RENT_CHARACTERISTICS_QUERY_KEYS,\n  );\n","import {\n  API_QUERY_KEYS,\n  SearchApiQuery,\n} from '@y2/api-clients/realestate-feed';\n\nimport type { PropertyTypes } from '../consts';\n\ntype PropertyTypeSearchApiQuery = Pick<\n  SearchApiQuery,\n  typeof API_QUERY_KEYS.PROPERTY\n>;\n\nexport const encodePropertyTypesApi = (\n  propertyTypes: PropertyTypes,\n): PropertyTypeSearchApiQuery => {\n  const propertyTypesIds = propertyTypes\n    .filter(({ checked }) => checked)\n    .map(({ value }) => value)\n    .join();\n\n  return {\n    ...(propertyTypesIds && {\n      [API_QUERY_KEYS.PROPERTY]: propertyTypesIds,\n    }),\n  };\n};\n","/* eslint-disable max-lines-per-function */\nimport pickBy from 'lodash/pickBy';\nimport { BaseInputSearchOptions } from '@y2/api-clients/realestate-search-options';\n\nimport { encodeClientRangeParameter } from './decode-client-query';\nimport { encodeAdAttributesApi } from '../../features/search-bar/ad-attributes-input/api/encode';\nimport { encodeAdvertiserApi } from '../../features/search-bar/advertiser-input/api/encode';\nimport { encodeLocationsUrl } from '../../features/search-bar/location-input/url/encode';\nimport {\n  encodeCommercialPropertyCharacteristicsApi,\n  encodeRentPropertyCharacteristicsApi,\n} from '../../features/search-bar/property-characteristics-input/encode-property-characteristics';\nimport {\n  CommercialSearchFormInputs,\n  ForsaleSearchFormInputs,\n  RentSearchFormInputs,\n  SearchFormInputs,\n} from '../../features/search-bar/search-bar-utils';\nimport { encodePropertyTypesApi } from '../../services/feed/params/property-types';\nimport {\n  CLIENT_QUERY_KEYS_MAP,\n  SearchClientQuery,\n} from '../feed/params/consts';\n\nexport const encodeQueryParams = (\n  searchValues: Partial<SearchFormInputs>,\n  searchOptions: BaseInputSearchOptions,\n): SearchClientQuery => {\n  const [minPrice, maxPrice] = encodeClientRangeParameter(\n    searchValues.priceRange,\n    searchOptions.price,\n  );\n  const [minFloor, maxFloor] = encodeClientRangeParameter(\n    searchValues.floorRange,\n    searchOptions.floor,\n  );\n  const [minRooms, maxRooms] = encodeClientRangeParameter(\n    searchValues.roomRange,\n    searchOptions.rooms,\n  );\n  const [minSquareMeter, maxSquareMeter] = encodeClientRangeParameter(\n    searchValues.squareMeterRange,\n    searchOptions.squaremeter,\n  );\n  const [minSquareMeterBuild, maxSquareMeterBuild] = encodeClientRangeParameter(\n    searchValues.squareMeterBuildRange,\n    searchOptions.squareMeterBuild,\n  );\n  const [minEntranceDate, maxEntranceDate] = encodeClientRangeParameter(\n    searchValues.entranceDate,\n  );\n\n  return pickBy({\n    [CLIENT_QUERY_KEYS_MAP.MIN_PRICE]: minPrice,\n    [CLIENT_QUERY_KEYS_MAP.MAX_PRICE]: maxPrice,\n    [CLIENT_QUERY_KEYS_MAP.MIN_ROOMS]: minRooms,\n    [CLIENT_QUERY_KEYS_MAP.MAX_ROOMS]: maxRooms,\n    [CLIENT_QUERY_KEYS_MAP.MIN_FLOOR]: minFloor,\n    [CLIENT_QUERY_KEYS_MAP.MAX_FLOOR]: maxFloor,\n    [CLIENT_QUERY_KEYS_MAP.MIN_SQUARE_METER]: minSquareMeter,\n    [CLIENT_QUERY_KEYS_MAP.MAX_SQUARE_METER]: maxSquareMeter,\n    [CLIENT_QUERY_KEYS_MAP.MIN_BUILT_SQUARE_METER]: minSquareMeterBuild,\n    [CLIENT_QUERY_KEYS_MAP.MAX_BUILT_SQUARE_METER]: maxSquareMeterBuild,\n    [CLIENT_QUERY_KEYS_MAP.MIN_ENTRANCE_DATE]: minEntranceDate,\n    [CLIENT_QUERY_KEYS_MAP.MAX_ENTRANCE_DATE]: maxEntranceDate,\n    [CLIENT_QUERY_KEYS_MAP.SORT]: searchValues.sort,\n    [CLIENT_QUERY_KEYS_MAP.PAGE]: (searchValues.page || null)?.toString(),\n    [CLIENT_QUERY_KEYS_MAP.TEXT]: searchValues.freeText,\n    [CLIENT_QUERY_KEYS_MAP.BOUNDS]: searchValues.bBox?.join(),\n    [CLIENT_QUERY_KEYS_MAP.DEAL_TYPE]: searchValues.dealType,\n    ...encodeAdAttributesApi(searchValues.adAttributes),\n    ...encodeAdvertiserApi(searchValues.advertiser),\n    ...encodePropertyTypesApi(searchValues.propertyTypes),\n  });\n};\n\nexport const encodeCommercialQueryParams = (\n  searchValues: CommercialSearchFormInputs,\n  searchOptions: BaseInputSearchOptions,\n): SearchClientQuery => {\n  return pickBy({\n    ...encodeQueryParams(searchValues, searchOptions),\n    ...encodeCommercialPropertyCharacteristicsApi(\n      searchValues.propertyCharacteristics,\n    ),\n    ...encodeLocationsUrl(searchValues.locations),\n    [CLIENT_QUERY_KEYS_MAP.TOILET_LOCATION]: searchValues.toilet,\n    [CLIENT_QUERY_KEYS_MAP.WAREHOUSE_LOCATION]: searchValues.warehouse,\n    [CLIENT_QUERY_KEYS_MAP.SHELTER_LOCATION]: searchValues.shelter,\n  });\n};\n\nexport const encodeRentQueryParams = (\n  searchValues: RentSearchFormInputs,\n  searchOptions: BaseInputSearchOptions,\n): SearchClientQuery => {\n  return pickBy({\n    ...encodeQueryParams(searchValues, searchOptions),\n    ...encodeRentPropertyCharacteristicsApi(\n      searchValues.propertyCharacteristics,\n    ),\n    ...encodeLocationsUrl(searchValues.locations),\n    [CLIENT_QUERY_KEYS_MAP.PROPERTY_CONDITION]:\n      searchValues.propertyCondition?.join(','),\n  });\n};\n\nexport const encodeForsaleQueryParams = (\n  searchValues: ForsaleSearchFormInputs,\n  searchOptions: BaseInputSearchOptions,\n): SearchClientQuery => {\n  return pickBy({\n    ...encodeQueryParams(searchValues, searchOptions),\n    ...encodeRentPropertyCharacteristicsApi(\n      searchValues.propertyCharacteristics,\n    ),\n    ...encodeLocationsUrl(searchValues.locations),\n    [CLIENT_QUERY_KEYS_MAP.PROPERTY_CONDITION]:\n      searchValues.propertyCondition?.join(','),\n  });\n};\n","import { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport pick from 'lodash/pick';\nimport { useUserDetails } from '@y2/auth-common/user-details-query';\nimport { analytics } from '@y2/google-tag-manager/v2/synchronized';\n\ntype FeedName =\n  | 'main_feed'\n  | 'minisite'\n  | 'minisite_agent'\n  | 'alerts_daily'\n  | 'alerts_immediate'\n  | 'favorites'\n  | 'recommended'\n  | 'around_you';\n\nexport type UseFeedPageEvent = {\n  category: number;\n  subCategory: number;\n  totalResults: number;\n  feedName: FeedName;\n  brokerId?: string;\n  agencyId?: string;\n  searchQueryKeys: string[];\n};\nexport const useFeedPageEvent = ({\n  category,\n  subCategory,\n  totalResults,\n  feedName,\n  searchQueryKeys,\n  brokerId,\n  agencyId,\n}: UseFeedPageEvent) => {\n  const { query } = useRouter();\n  const { data: user, isFetched: isFetchedUserDetails } = useUserDetails();\n  const page = (query.page as string) || '1';\n\n  const searchQuery = JSON.stringify(pick(query, searchQueryKeys));\n\n  useEffect(() => {\n    if (!isFetchedUserDetails) return;\n    analytics.pushPageEvent({\n      PageType: 'feed',\n      Section: 'main_site',\n      Category: category.toString(),\n      SubCategory: subCategory.toString(),\n      FeedName: feedName,\n      PageNumber: page,\n      TotalResultsNum: totalResults.toString(),\n      ...(user?.id && { UserID: user.id.toString() }),\n      ...(agencyId && { AgencyID: agencyId }),\n      ...(brokerId && { BrokerID: brokerId }),\n    });\n  }, [searchQuery, isFetchedUserDetails]);\n};\n","/* eslint-disable max-lines */\n/* eslint-disable max-lines-per-function */\nimport env from '@y2/environments';\n\nimport {\n  COMMERCIAL_CHARACTERISTICS_QUERY_KEYS,\n  FORSALE_CHARACTERISTICS_QUERY_KEYS,\n  PROPERTY_CHARACTERISTICS_QUERY_KEYS,\n  RANGE_QUERY_KEYS,\n  RENT_CHARACTERISTICS_QUERY_KEYS,\n} from './realestate-feed';\nimport { getWithSSRSupport } from '../helpers';\nimport axios, { ResponseBody } from '../http-client';\n\nexport const SEARCH_OPTIONS_QUERY_KEYS = {\n  PROPERTY: 'property',\n  PROPERTY_GROUP: 'propertyGroup',\n  ROOMS: 'rooms',\n  SQUARE_METER: 'squaremeter',\n  BUILT_SQUARE_METER: 'squareMeterBuild',\n  PRICE: 'price',\n  DEAL_TYPE: 'dealType',\n};\n\nexport type BaseOption = {\n  id: string;\n  title: string;\n};\n\nexport type Property = BaseOption & {\n  // commercial subcategory property options don't have propertyGroupId to link to\n  propertyGroupId?: string;\n};\n\nexport type PropertyGroup = BaseOption & {\n  engTitle: string;\n  isSearchable: boolean;\n};\n\nexport const FEED_SORT_OPTIONS_MAP = {\n  DATE: 'date-desc',\n  NEAR_ME: 'near-me',\n  PRICE_ASC: 'price-asc',\n  PRICE_DESC: 'price-desc',\n} as const;\n\nexport type FeedSortOptions =\n  (typeof FEED_SORT_OPTIONS_MAP)[keyof typeof FEED_SORT_OPTIONS_MAP];\n\nexport type Range = [number, number];\n\nexport type PropertyCharacteristicsOption = {\n  title: string;\n  engTitle: PropertyCharacteristic;\n};\n\nexport type RangeOptions = {\n  from: number;\n  to: number;\n  step: number;\n};\n\nexport type BaseInputSearchOptions = Partial<{\n  property: Property[];\n  propertyGroup: PropertyGroup[];\n  rooms: RangeOptions;\n  floor: RangeOptions;\n  squaremeter: RangeOptions;\n  squareMeterBuild: RangeOptions;\n  price: RangeOptions;\n  dealType: BaseOption[];\n}>;\n\nexport type RentSearchOptions = BaseInputSearchOptions &\n  RentPropertyCharacteristicsSearchApiQuery & {\n    warehouse?: BaseOption;\n  };\n\nexport type ForsaleSearchOptions = BaseInputSearchOptions &\n  ForsalePropertyCharacteristicsSearchApiQuery & {\n    warehouse?: BaseOption;\n  };\n\nexport type CommercialPropertyCharacteristicsOptions = Partial<\n  Record<(typeof COMMERCIAL_CHARACTERISTICS_QUERY_KEYS)[number], BaseOption>\n>;\n\nexport type CommercialSearchOptions = BaseInputSearchOptions &\n  CommercialPropertyCharacteristicsOptions & {\n    warehouse?: BaseOption[];\n    toilet?: BaseOption[];\n    shelter?: BaseOption[];\n  };\n\nexport type PropertyCharacteristic =\n  (typeof PROPERTY_CHARACTERISTICS_QUERY_KEYS)[number];\n\nexport type PropertyCharacteristicsSearchApiQuery = Partial<\n  Record<PropertyCharacteristic, '1'>\n>;\n\nexport type CommercialPropertyCharacteristicsSearchApiQuery = Partial<\n  Record<(typeof COMMERCIAL_CHARACTERISTICS_QUERY_KEYS)[number], '1'>\n>;\nexport type ForsalePropertyCharacteristicsSearchApiQuery = Partial<\n  Record<(typeof FORSALE_CHARACTERISTICS_QUERY_KEYS)[number], '1'>\n>;\nexport type RentPropertyCharacteristicsSearchApiQuery = Partial<\n  Record<(typeof RENT_CHARACTERISTICS_QUERY_KEYS)[number], '1'>\n>;\n\nexport type ForsaleDynamicSearchOptionsResponse = Partial<\n  Record<(typeof FORSALE_CHARACTERISTICS_QUERY_KEYS)[number], BaseOption>\n>;\n\nexport type RentDynamicSearchOptionsResponse = Partial<\n  Record<(typeof RENT_CHARACTERISTICS_QUERY_KEYS)[number], BaseOption>\n>;\n\nexport type PropertyCharacteristicsOptions = Partial<\n  Record<PropertyCharacteristic, BaseOption>\n>;\n\nexport type CommercialDynamicSearchOptionsResponse =\n  CommercialPropertyCharacteristicsOptions & {\n    [RANGE_QUERY_KEYS.PRICE]?: RangeOptions;\n  };\n\nexport type DynamicSearchOptionsRequest = {\n  property?: string;\n  dealType?: string;\n  fields?: string[];\n};\n\nconst serviceName = 'realestate-search-options';\n\n/**\n * client for `realestate-search-options` service\n * @see https://gw.yad2.io/realestate-search-options/api-docs/#\n */\nexport const realestateSearchOptionsClient = (baseUrl = env.routes.api.gw) => {\n  const client = axios.create({\n    baseURL: getWithSSRSupport(baseUrl, serviceName),\n    withCredentials: true,\n  });\n\n  return {\n    getForsaleBaseSearchOptions: (fields?: string[]) =>\n      client.get<ResponseBody<ForsaleSearchOptions>>('/forsale/base', {\n        params: { ...(fields && { fields: fields.join(',') }) },\n      }),\n    getForsaleDynamicSearchOptions: (req: DynamicSearchOptionsRequest) =>\n      client.get<ResponseBody<ForsaleDynamicSearchOptionsResponse>>(\n        '/forsale/dynamic',\n        {\n          params: {\n            ...req,\n            ...(req.fields && { fields: req.fields.join(',') }),\n          },\n        },\n      ),\n    getRentBaseSearchOptions: (fields?: string[]) =>\n      client.get<ResponseBody<RentSearchOptions>>('/rent/base', {\n        params: { ...(fields && { fields: fields.join(',') }) },\n      }),\n    getRentDynamicSearchOptions: (req: DynamicSearchOptionsRequest) =>\n      client.get<ResponseBody<RentDynamicSearchOptionsResponse>>(\n        '/rent/dynamic',\n        {\n          params: {\n            ...req,\n            ...(req.fields && { fields: req.fields.join(',') }),\n          },\n        },\n      ),\n    getCommercialBaseSearchOptions: (fields?: string[]) =>\n      client.get<ResponseBody<CommercialSearchOptions>>('/commercial/base', {\n        params: { ...(fields && { fields: fields.join(',') }) },\n      }),\n    getCommercialDynamicSearchOptions: (req: DynamicSearchOptionsRequest) =>\n      client.get<ResponseBody<CommercialDynamicSearchOptionsResponse>>(\n        '/commercial/dynamic',\n        {\n          params: {\n            ...req,\n            ...(req.fields && { fields: req.fields.join(',') }),\n          },\n        },\n      ),\n  };\n};\n","import type { RangeStep, SliderRangeValue } from './inputs-slider-range';\n\nexport const autoCorrectRange = ([\n  minValue,\n  maxValue,\n]: SliderRangeValue): SliderRangeValue => [\n  Math.min(minValue, maxValue),\n  Math.max(minValue, maxValue),\n];\n\nexport const rearrangeRangeBetweenLimits = (\n  [minValue, maxValue]: SliderRangeValue,\n  [minLimit, maxLimit]: SliderRangeValue,\n): SliderRangeValue => [\n  Math.max(minValue, minLimit),\n  Math.min(maxValue, maxLimit),\n];\n\nexport const getUpdatedStepByValue = (\n  currentValue: number,\n  previousValue: number,\n  steps: RangeStep[],\n) => {\n  const isCurrentValueIncreased = currentValue > previousValue;\n  const smallestStep = steps[0].VALUE;\n  const greatestStep = steps[steps.length - 1].VALUE;\n\n  const step = steps.find((step) =>\n    isCurrentValueIncreased\n      ? step.MIN <= currentValue && currentValue < step.MAX\n      : step.MIN <= currentValue && currentValue <= step.MAX,\n  );\n\n  return step?.VALUE || (isCurrentValueIncreased ? greatestStep : smallestStep);\n};\n","export const stripNumbers = (string: string) =>\n  Number(string.replace(/[^\\d]/g, ''));\n\nexport const MAX_CHARS_LENGTH = 10;\nexport const MAX_CHARS_LENGTH_WITH_SYMBOL = 12;\n","import React, { type RefObject } from 'react';\nimport cn from 'classnames';\n\nimport styles from './simple-input.module.scss';\n\ntype Props = {\n  error?: boolean;\n  className?: string;\n  inputRef?: RefObject<HTMLInputElement>;\n} & React.DetailedHTMLProps<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\nexport const SimpleInput = ({\n  error,\n  className,\n  inputRef,\n  ...inputProps\n}: Props) => {\n  return (\n    <input\n      {...inputProps}\n      ref={inputRef}\n      className={cn(styles.simpleInput, className, error && styles.hasError)}\n      data-nagish=\"search-ui-simple-input\"\n    />\n  );\n};\n","import React, { useState } from 'react';\n\nimport {\n  MAX_CHARS_LENGTH,\n  MAX_CHARS_LENGTH_WITH_SYMBOL,\n  stripNumbers,\n} from './helpers';\nimport { SimpleInput } from '../../ui/simple-input/simple-input';\n\ntype Props = {\n  className?: string;\n  onChange?: (newValue: number) => void;\n  maxNumber?: number;\n  value: number;\n  symbol?: string;\n  hasPlaceHolder?: boolean;\n  showMaxLimitPlusSign?: boolean;\n  handleOnBlur: (newValue: number) => void;\n  id?: string;\n};\n\nexport const NumberInput = ({\n  className,\n  onChange,\n  maxNumber,\n  value,\n  symbol,\n  hasPlaceHolder,\n  showMaxLimitPlusSign,\n  handleOnBlur,\n  id,\n}: Props) => {\n  const [inputOnFocus, setInputOnFocus] = useState(false);\n\n  const defaultTestId = !id ? 'number-input-placeholder' : undefined;\n\n  const handleInput = ({ target }: React.ChangeEvent<HTMLInputElement>) => {\n    const numberValue = stripNumbers(target.value);\n    setFormattedNumberAndFireChange(numberValue);\n  };\n\n  const setFormattedNumberAndFireChange = (value: number) => {\n    onChange && onChange(value);\n  };\n\n  const handleFocus: React.FocusEventHandler<HTMLInputElement> = (event) => {\n    setInputOnFocus(true);\n  };\n\n  const handleBlur: React.FocusEventHandler<HTMLInputElement> = ({\n    target,\n  }) => {\n    setInputOnFocus(false);\n    const numericValue = stripNumbers(target.value);\n    handleOnBlur(numericValue);\n  };\n\n  const toFormattedMaxNumber = (numberValue: number) => {\n    const sign = showMaxLimitPlusSign ? '+' : '';\n\n    return `${symbol ? `${symbol} ${sign}` : sign}${numberValue.toLocaleString()}`;\n  };\n\n  const toFormattedNumber = (numberValue: number) =>\n    `${symbol ? `${symbol} ` : ''}${numberValue.toLocaleString()}`;\n\n  const isLargerThanMax = maxNumber && !inputOnFocus && value >= maxNumber;\n\n  const formattedNumber = isLargerThanMax\n    ? toFormattedMaxNumber(maxNumber)\n    : toFormattedNumber(value);\n\n  const formattedPlaceholder = maxNumber\n    ? toFormattedMaxNumber(maxNumber)\n    : toFormattedNumber(value);\n\n  const placeholderValue = hasPlaceHolder ? formattedPlaceholder : '';\n  const currentValue = hasPlaceHolder ? '' : formattedNumber;\n\n  return (\n    <SimpleInput\n      className={className}\n      type=\"text\"\n      pattern=\"[0-9]*\"\n      inputMode=\"numeric\"\n      onChange={handleInput}\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      value={currentValue}\n      placeholder={placeholderValue}\n      maxLength={symbol ? MAX_CHARS_LENGTH_WITH_SYMBOL : MAX_CHARS_LENGTH}\n      style={{ direction: 'ltr' }}\n      id={id}\n      data-testid={defaultTestId}\n    />\n  );\n};\n","import { type Dispatch, type SetStateAction, useEffect, useState } from 'react';\nimport noop from 'lodash/noop';\nimport { MinusIcon } from '@y2/mango/components/icons';\nimport { Slider } from '@y2/mango/components/slider';\n\nimport {\n  autoCorrectRange,\n  getUpdatedStepByValue,\n  rearrangeRangeBetweenLimits,\n} from './helpers';\nimport styles from './inputs-slider-range.module.scss';\nimport texts from './texts.json';\nimport { NumberInput } from '../../functional/number-input/number-input';\n\nexport type RangeStep = {\n  MIN: number;\n  MAX: number;\n  VALUE: number;\n};\n\nexport type SliderRangeValue = [number, number];\n\ntype Props = {\n  value: SliderRangeValue;\n  limits: SliderRangeValue;\n  symbol?: string;\n  showMaxLimitPlusSign?: boolean;\n  setRangeValue: Dispatch<SetStateAction<SliderRangeValue>>;\n  steps: number | RangeStep[];\n  onMaxInputBlur?: (value: number) => void;\n  id?: string;\n};\n\nconst DEFAULT_STEP = 1;\n\nexport const InputsSliderRange = ({\n  value,\n  limits,\n  steps,\n  symbol,\n  showMaxLimitPlusSign = true,\n  setRangeValue,\n  onMaxInputBlur = noop,\n  id,\n}: Props) => {\n  const [step, setStep] = useState(DEFAULT_STEP);\n  const [renderSliderAfterHydration, setRenderSliderAfterHydration] =\n    useState(false);\n  const [lastTouchedButton, setLastTouchedButton] = useState<\n    'minButton' | 'maxButton' | null\n  >(null);\n\n  const isRangeSteps = Array.isArray(steps);\n  const [minValue, maxValue] = value;\n  const [minLimit, maxLimit] = limits;\n  const isValueMinAsDefault = minValue === minLimit;\n  const isValueMaxAsDefault = maxValue === maxLimit;\n  const smallestStep = isRangeSteps ? steps[0].VALUE : (steps as number);\n\n  useEffect(() => {\n    setStep(smallestStep);\n  }, [smallestStep]);\n\n  useEffect(() => {\n    setRenderSliderAfterHydration(true);\n  }, []);\n\n  const handleOnMinBlur = (newMinValue: number) => {\n    setRangeValue(\n      rearrangeRangeBetweenLimits(\n        autoCorrectRange([newMinValue, maxValue]),\n        limits,\n      ),\n    );\n  };\n\n  const handleOnMaxBlur = (newMaxValue: number) => {\n    const updatedMaxValue = newMaxValue || maxLimit;\n\n    setRangeValue(\n      rearrangeRangeBetweenLimits(\n        autoCorrectRange([minValue, updatedMaxValue]),\n        limits,\n      ),\n    );\n\n    onMaxInputBlur(updatedMaxValue);\n  };\n\n  const onMinInputChange = (newMinValue: number) => {\n    setRangeValue([newMinValue, maxValue]);\n  };\n\n  const onMaxInputChange = (newMaxValue: number) => {\n    setRangeValue([minValue, newMaxValue]);\n  };\n\n  const handleRangeChange = (newValues: SliderRangeValue) => {\n    const [minRange, maxRange] = newValues;\n    const isMinValueChanged = minRange !== minValue;\n    const isMaxValueChanged = maxRange !== maxValue;\n\n    if (isMinValueChanged && !isMaxValueChanged) {\n      setLastTouchedButton('minButton');\n\n      isRangeSteps && setStep(getUpdatedStepByValue(minRange, minValue, steps));\n    }\n\n    if (!isMinValueChanged && isMaxValueChanged) {\n      setLastTouchedButton('maxButton');\n\n      isRangeSteps && setStep(getUpdatedStepByValue(maxRange, maxValue, steps));\n    }\n\n    return setRangeValue(newValues);\n  };\n\n  const handleRangeBlur = () => {\n    if (lastTouchedButton === 'maxButton') {\n      onMaxInputBlur(maxValue);\n    }\n  };\n\n  return (\n    <div className={styles.inputsSliderRange}>\n      <div className={styles.inputs}>\n        <NumberInput\n          className={styles.input}\n          value={minValue}\n          hasPlaceHolder={isValueMinAsDefault}\n          showMaxLimitPlusSign={showMaxLimitPlusSign}\n          onChange={onMinInputChange}\n          symbol={symbol}\n          handleOnBlur={handleOnMinBlur}\n          id={id && `${id}-range-slider-input-min`}\n          data-testid={id && `${id}-min-input`}\n        />\n        <span className={styles.divider}>\n          <MinusIcon />\n        </span>\n        <NumberInput\n          className={styles.input}\n          value={maxValue}\n          hasPlaceHolder={isValueMaxAsDefault}\n          showMaxLimitPlusSign={showMaxLimitPlusSign}\n          onChange={onMaxInputChange}\n          maxNumber={maxLimit}\n          symbol={symbol}\n          handleOnBlur={handleOnMaxBlur}\n          id={id && `${id}-range-slider-input-max`}\n          data-testid={id && `${id}-max-input`}\n        />\n      </div>\n\n      <div className={styles.slider}>\n        {renderSliderAfterHydration && (\n          <Slider\n            range\n            reverse\n            allowCross={false}\n            min={minLimit}\n            max={maxLimit}\n            step={step}\n            onChange={(value) => handleRangeChange(value as SliderRangeValue)}\n            value={value}\n            defaultValue={[minLimit, maxLimit]}\n            onBlur={handleRangeBlur}\n            ariaLabelForHandle={[texts.min, texts.max]}\n            variant=\"black\"\n            id={id && `${id}-range-slider`}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, {\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  useEffect,\n  useRef,\n} from 'react';\n\nimport styles from './check-button.module.scss';\n\ntype Props = {\n  children?: React.ReactNode;\n  handleOnMouseEnter?: (id: string | number) => void;\n  handleOnMouseLeave?: (id: string | number) => void;\n  value: string;\n  isFocusFromKeyboard?: boolean;\n  type?: 'checkbox' | 'radio';\n} & DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n\nexport const CheckButton = ({\n  children,\n  value,\n  handleOnMouseEnter,\n  handleOnMouseLeave,\n  isFocusFromKeyboard = false,\n  type = 'checkbox',\n  ...inputProps\n}: Props) => {\n  const ref = useRef<null | HTMLLabelElement>(null);\n\n  useEffect(() => {\n    if (isFocusFromKeyboard && ref.current) {\n      ref.current.scrollIntoView({ block: 'nearest' });\n    }\n  }, [isFocusFromKeyboard]);\n\n  return (\n    <label\n      ref={ref}\n      onMouseEnter={() => handleOnMouseEnter?.(value)}\n      onMouseLeave={() => handleOnMouseLeave?.(value)}\n      data-testid=\"check-button\"\n      data-nagish=\"search-check-button-label\"\n    >\n      <input\n        {...inputProps}\n        value={value}\n        type={type}\n        className={styles.input}\n        data-nagish=\"search-check-button-input\"\n      />\n\n      {children}\n    </label>\n  );\n};\n","import cn from 'classnames';\n\nimport styles from './ok-reset-buttons.module.scss';\nimport texts from './ok-reset-buttons.texts.json';\n\ntype Props = {\n  onAgree: () => void;\n  onReset: () => void;\n  className?: string;\n};\n\nexport const OkResetButtons = ({ onAgree, onReset, className }: Props) => {\n  return (\n    <div className={cn(styles.okResetButtonsBox, className)}>\n      <div className={styles.content}>\n        <button\n          type=\"button\"\n          onClick={onReset}\n          className={styles.reset}\n          data-nagish=\"search-reset-buttons-button\"\n        >\n          {texts.reset}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onAgree}\n          className={styles.ok}\n          data-nagish=\"search-reset-buttons-button\"\n        >\n          {texts.search}\n        </button>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"propertyNote\":\"multi-toggle_propertyNote__RBN7O\",\"popModal\":\"multi-toggle_popModal__OQ9Es\",\"slideRight\":\"multi-toggle_slideRight__7ZVLJ\",\"slideLeft\":\"multi-toggle_slideLeft__3E8X1\",\"bottomModal\":\"multi-toggle_bottomModal__PENxF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"groupLabel\":\"toggle-group_groupLabel__PtwpK\",\"groupList\":\"toggle-group_groupList__ts57l\",\"popModal\":\"toggle-group_popModal__2or7A\",\"slideRight\":\"toggle-group_slideRight__W21Cp\",\"slideLeft\":\"toggle-group_slideLeft__NOevA\",\"bottomModal\":\"toggle-group_bottomModal__Ok7Cu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"priceDropdownBox\":\"price-range-input_priceDropdownBox__YOOPn\",\"label\":\"price-range-input_label__t7K5A\",\"popModal\":\"price-range-input_popModal__r_KBp\",\"slideRight\":\"price-range-input_slideRight__zx8bV\",\"slideLeft\":\"price-range-input_slideLeft__x2oBI\",\"bottomModal\":\"price-range-input_bottomModal__Y2uvf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"propertyDropdown\":\"property-types-input_propertyDropdown__DOOhP\",\"dropdownBox\":\"property-types-input_dropdownBox__ySJTD\",\"dropdownContent\":\"property-types-input_dropdownContent__8IBVk\",\"label\":\"property-types-input_label__o8aRz\",\"popModal\":\"property-types-input_popModal__CVXiz\",\"slideRight\":\"property-types-input_slideRight__LhW8A\",\"slideLeft\":\"property-types-input_slideLeft__pOJao\",\"bottomModal\":\"property-types-input_bottomModal__nXO6v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputsSliderRange\":\"inputs-slider-range_inputsSliderRange__hHA9h\",\"inputs\":\"inputs-slider-range_inputs__7pEY1\",\"input\":\"inputs-slider-range_input__fZs4Z\",\"divider\":\"inputs-slider-range_divider__N7prR\",\"slider\":\"inputs-slider-range_slider__w0n0o\",\"popModal\":\"inputs-slider-range_popModal__0Tze8\",\"slideRight\":\"inputs-slider-range_slideRight__lrnR2\",\"slideLeft\":\"inputs-slider-range_slideLeft__igpQ0\",\"bottomModal\":\"inputs-slider-range_bottomModal__HILGb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"check-button_input__YX3KQ\",\"popModal\":\"check-button_popModal__jL9yM\",\"slideRight\":\"check-button_slideRight__4NAeh\",\"slideLeft\":\"check-button_slideLeft__3RfUE\",\"bottomModal\":\"check-button_bottomModal__lojph\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simpleButton\":\"simple-check-button_simpleButton__UmBDB\",\"rounded\":\"simple-check-button_rounded__iI5a_\",\"popModal\":\"simple-check-button_popModal__MTR__\",\"slideRight\":\"simple-check-button_slideRight__uW60s\",\"slideLeft\":\"simple-check-button_slideLeft__D2tm9\",\"bottomModal\":\"simple-check-button_bottomModal__6Jjik\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"okResetButtonsBox\":\"ok-reset-buttons_okResetButtonsBox__qVaWn\",\"content\":\"ok-reset-buttons_content__xRT_s\",\"reset\":\"ok-reset-buttons_reset__SWVLu\",\"ok\":\"ok-reset-buttons_ok__6Vyab\",\"popModal\":\"ok-reset-buttons_popModal__VIZ6h\",\"slideRight\":\"ok-reset-buttons_slideRight__GCU_l\",\"slideLeft\":\"ok-reset-buttons_slideLeft__VvyGw\",\"bottomModal\":\"ok-reset-buttons_bottomModal__66CXL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simpleInput\":\"simple-input_simpleInput__WPLhX\",\"hasError\":\"simple-input_hasError__pwc_H\",\"popModal\":\"simple-input_popModal__7WDS9\",\"slideRight\":\"simple-input_slideRight__K03Up\",\"slideLeft\":\"simple-input_slideLeft__3QhJP\",\"bottomModal\":\"simple-input_bottomModal__nx5Jf\"};"],"names":["isTruthy","getItemInfo","address","additionalDetails","item","street","house","neighborhood","city","property","roomsCount","squareMeter","itemTitle","text","concat","number","itemInfo1","filter","join","itemInfo2","texts","isNumber","floor","formatFloor","getImageTag","priceBeforeTag","price","isAssetExclusive","isNewFromContractor","formatPriceBeforeTag","formatPrice","diffPrice","GROUND_VALUE","updateOptions","current","update","map","updatedItem","find","group","value","encodeSingleLocationUrl","topAreaId","areaId","cityId","hoodId","streetId","location","CLIENT_QUERY_KEYS_MAP","TOP_AREA","AREA","CITY","NEIGHBORHOOD","STREET","encodeLocationsUrl","locations","length","multiTopArea","multiArea","multiCity","multiNeighborhood","forEach","type","push","MULTI_TOP_AREA","MULTI_AREA","MULTI_CITY","MULTI_NEIGHBORHOOD","getDisplayPrice","selectedRange","rangeOptions","isShort","minSelectedPrice","maxSelectedPrice","from","minPriceLimit","to","maxPriceLimit","minPrice","maxPrice","minPriceText","maxPriceText","PriceRangeInput","onChange","onMaxPriceInputBlur","displayShortenedButtonText","onSelectedClassName","sliderOptions","param","isCollapsed","toggleCollapse","collapseRef","useCollapse","minValue","maxValue","step","areBothLimitsSelected","setSelectedRange","useState","priceDisplayText","setPriceDisplayText","useDebounceEffect","wait","isPriceRangeSelected","jsx_runtime","jsx","div","ref","data-testid","jsxs","ResponsiveDropdown","actionButton","RoundedPseudoDropButton","isOpen","isActive","activeClassName","className","styles","InputTitle","title","onlyOnMobile","InputsSliderRange","symbol","setRangeValue","range","onMaxInputBlur","steps","limits","getPropertyTypeGroups","propertyGroupsOptions","id","engTitle","isSearchable","includeAll","SimpleCheckButton","children","rounded","checkButtonProps","CheckButton","span","cn","calcGroupWithOptions","groups","options","byGroup","groupBy","gr","allOption","undefined","nSelected","op","checked","ToggleGroup","groupIcon","noop","labelId","useId","countCheckedOptions","isChecked","isAllChecked","isAllCleared","role","aria-labelledby","label","data-nagish","flipOption","isUnchecked","checkOption","toggleListStyle","MultiToggle","iconMap","groupsWithOptions","optionsWithoutGroup","Fragment","BusinessReIcon","HomeIcon","FenceIcon","PropertyTypesInput","collapse","selectedOptions","selectedGroupsText","flatMap","propertyTypeText","groupsWithAltName","match","Dropdown","aria-label","MobileDrawerHeader","onCloseClick","OkResetButtons","onAgree","onReset","getNewQuery","newParams","router","query","omit","keepHash","hash","asPath","split","pushQueryParams","paramsToAdd","shallow","replaceQueryParams","replace","encodeRangeParameter","decodeClientRangeParameter","minQueryValue","maxQueryValue","minRangeLimit","maxRangeLimit","Number","rangeLimit","isNil","autoCorrectRange","isInRange","encodeClientRangeParameter","toString","encodeRangeParameters","API_QUERY_KEYS","MIN_PRICE","MAX_PRICE","rooms","MIN_ROOMS","MAX_ROOMS","MIN_SQUARE_METER","MAX_SQUARE_METER","squareMeterBuild","MIN_BUILT_SQUARE_METER","MAX_BUILT_SQUARE_METER","entranceDate","MIN_ENTRANCE_DATE","MAX_ENTRANCE_DATE","MIN_FLOOR","MAX_FLOOR","pickBy","RANGE_QUERY_KEYS","PRICE","ROOMS","SQUARE_METER","BUILT_SQUARE_METER","ENTRANCE_DATE","FLOOR","encodeAdAttributesApi","isImageOnly","isPriceOnly","isSettlementsOnly","isPriceDropped","adAttributes","IMAGE_ONLY","PRICE_ONLY","SETTLEMENTS","PRICE_DROPPED","encodeAdvertiserApi","isFromBrokerage","advertiserInput","BROKERAGE","NEW_FROM_CONTRACTOR","encodePropertyCharacteristics","propertyCharacteristics","keys","pick","Object","fromEntries","key","encodeCommercialPropertyCharacteristicsApi","COMMERCIAL_CHARACTERISTICS_QUERY_KEYS","encodeRentPropertyCharacteristicsApi","RENT_CHARACTERISTICS_QUERY_KEYS","encodePropertyTypesApi","propertyTypesIds","propertyTypes","PROPERTY","encodeQueryParams","searchValues","searchOptions","priceRange","minFloor","maxFloor","floorRange","minRooms","maxRooms","roomRange","minSquareMeter","maxSquareMeter","squareMeterRange","squaremeter","minSquareMeterBuild","maxSquareMeterBuild","squareMeterBuildRange","minEntranceDate","maxEntranceDate","SORT","sort","PAGE","page","_this","TEXT","freeText","BOUNDS","bBox","DEAL_TYPE","dealType","advertiser","encodeCommercialQueryParams","TOILET_LOCATION","toilet","WAREHOUSE_LOCATION","warehouse","SHELTER_LOCATION","shelter","encodeRentQueryParams","PROPERTY_CONDITION","propertyCondition","useFeedPageEvent","category","subCategory","totalResults","feedName","searchQueryKeys","brokerId","agencyId","useRouter","data","user","isFetched","isFetchedUserDetails","useUserDetails","searchQuery","JSON","stringify","useEffect","analytics","pushPageEvent","PageType","Section","Category","SubCategory","FeedName","PageNumber","TotalResultsNum","UserID","AgencyID","BrokerID","SEARCH_OPTIONS_QUERY_KEYS","PROPERTY_GROUP","FEED_SORT_OPTIONS_MAP","DATE","NEAR_ME","PRICE_ASC","PRICE_DESC","realestateSearchOptionsClient","baseUrl","env","routes","api","gw","client","axios","create","baseURL","getWithSSRSupport","withCredentials","getForsaleBaseSearchOptions","get","params","fields","getForsaleDynamicSearchOptions","req","getRentBaseSearchOptions","getRentDynamicSearchOptions","getCommercialBaseSearchOptions","getCommercialDynamicSearchOptions","Math","min","max","rearrangeRangeBetweenLimits","param1","minLimit","maxLimit","getUpdatedStepByValue","currentValue","previousValue","isCurrentValueIncreased","smallestStep","VALUE","greatestStep","MIN","MAX","stripNumbers","string","SimpleInput","error","inputRef","inputProps","input","NumberInput","maxNumber","hasPlaceHolder","showMaxLimitPlusSign","handleOnBlur","inputOnFocus","setInputOnFocus","setFormattedNumberAndFireChange","toFormattedMaxNumber","sign","numberValue","toLocaleString","toFormattedNumber","formattedNumber","isLargerThanMax","formattedPlaceholder","pattern","inputMode","target","onFocus","onBlur","placeholder","maxLength","style","direction","setStep","renderSliderAfterHydration","setRenderSliderAfterHydration","lastTouchedButton","setLastTouchedButton","isRangeSteps","Array","isArray","isValueMinAsDefault","isValueMaxAsDefault","handleRangeChange","minRange","maxRange","newValues","isMinValueChanged","isMaxValueChanged","newMinValue","MinusIcon","newMaxValue","updatedMaxValue","Slider","reverse","allowCross","defaultValue","ariaLabelForHandle","variant","handleOnMouseEnter","handleOnMouseLeave","isFocusFromKeyboard","useRef","scrollIntoView","block","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","onMouseEnter","onMouseLeave","button","onClick","module","exports"],"sourceRoot":""}